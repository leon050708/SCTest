# Postman测试集合使用说明

## 概述
本测试集合包含了个人助手API的所有接口测试，总共包含**65个接口**，涵盖了支出管理、收入管理、生活记录管理、健康记录管理和仪表板功能。

## 文件说明
- `postman_collection.json` - Postman测试集合文件
- `postman_environment.json` - Postman环境配置文件
- `Postman测试说明.md` - 本说明文档

## 导入步骤

### 1. 导入测试集合
1. 打开Postman
2. 点击左上角的"Import"按钮
3. 选择"Upload Files"标签
4. 拖拽或选择`postman_collection.json`文件
5. 点击"Import"完成导入

### 2. 导入环境配置
1. 在Postman中点击右上角的"Environments"
2. 点击"Import"按钮
3. 选择`postman_environment.json`文件
4. 点击"Import"完成导入
5. 在右上角环境选择器中选择"个人助手API环境"

## 接口分类

### 1. 支出管理 (15个接口)
- 创建支出记录
- 获取所有支出记录
- 根据ID获取支出记录
- 更新支出记录
- 删除支出记录
- 根据类别查找支出
- 根据日期范围查找支出
- 根据金额范围查找支出
- 根据描述模糊查找支出
- 获取指定日期范围内的总支出
- 获取指定类别的总支出
- 获取按类别分组的支出统计
- 获取按月份分组的支出统计
- 获取本月总支出
- 获取本周总支出

### 2. 收入管理 (15个接口)
- 创建收入记录
- 获取所有收入记录
- 根据ID获取收入记录
- 更新收入记录
- 删除收入记录
- 根据来源查找收入
- 根据日期范围查找收入
- 根据金额范围查找收入
- 根据描述模糊查找收入
- 获取指定日期范围内的总收入
- 获取指定来源的总收入
- 获取按来源分组的收入统计
- 获取按月份分组的收入统计
- 获取本月总收入
- 获取本周总收入

### 3. 生活记录管理 (17个接口)
- 创建生活记录
- 获取所有生活记录
- 根据ID获取生活记录
- 更新生活记录
- 删除生活记录
- 根据心情查找记录
- 根据日期范围查找记录
- 根据标题模糊查找
- 根据内容模糊查找
- 根据标签查找
- 根据天气查找记录
- 根据位置查找记录
- 获取最近的记录
- 获取按心情分组的统计
- 获取按月份分组的统计
- 获取本月记录数量
- 获取本周记录数量

### 4. 健康记录管理 (20个接口)
- 创建健康记录
- 获取所有健康记录
- 根据ID获取健康记录
- 更新健康记录
- 删除健康记录
- 根据日期范围查找记录
- 根据体重范围查找
- 根据运动类型查找
- 根据运动时长范围查找
- 根据睡眠时长范围查找
- 获取最近的记录
- 获取指定日期范围内的平均体重
- 获取指定日期范围内的平均心率
- 获取指定日期范围内的平均运动时长
- 获取指定日期范围内的平均睡眠时长
- 获取按月份分组的平均体重统计
- 获取按运动类型分组的统计
- 获取体重变化趋势
- 获取本月平均体重
- 获取本周平均运动时长

### 5. 仪表板 (5个接口)
- 获取仪表板概览数据
- 获取财务统计
- 获取生活记录统计
- 获取健康统计
- 获取综合报告

## 测试步骤

### 1. 启动应用
确保Spring Boot应用正在运行在`http://localhost:8080`

### 2. 批量测试
1. 在Postman中选择"个人助手API测试集合"
2. 点击右上角的"Run collection"按钮
3. 选择要运行的接口（建议全选）
4. 点击"Run"开始批量测试

### 3. 单个测试
1. 在集合中选择要测试的接口
2. 点击"Send"按钮发送请求
3. 查看响应结果

## 测试数据说明

### 支出记录示例
```json
{
  "amount": 150.50,
  "category": "餐饮",
  "description": "午餐费用",
  "date": "2024-01-15T12:00:00"
}
```

### 收入记录示例
```json
{
  "amount": 5000.00,
  "source": "工资",
  "description": "月薪",
  "date": "2024-01-15T09:00:00"
}
```

### 生活记录示例
```json
{
  "title": "美好的一天",
  "content": "今天天气很好，心情愉快",
  "mood": "开心",
  "weather": "晴天",
  "location": "家里",
  "tags": "生活,心情",
  "date": "2024-01-15T14:00:00"
}
```

### 健康记录示例
```json
{
  "weight": 70.5,
  "heartRate": 75,
  "exerciseType": "跑步",
  "exerciseDuration": 30,
  "sleepDuration": 8,
  "notes": "今天感觉很好",
  "date": "2024-01-15T07:00:00"
}
```

## 注意事项

1. **应用启动**：确保Spring Boot应用已启动并运行在8080端口
2. **数据库初始化**：应用启动时会自动初始化示例数据
3. **ID依赖**：某些更新和删除操作需要先创建记录获取ID
4. **日期格式**：所有日期参数使用ISO 8601格式（如：2024-01-15T12:00:00）
5. **中文编码**：请求和响应都支持中文

## 预期结果

- **创建操作**：返回201状态码和创建的记录
- **查询操作**：返回200状态码和查询结果
- **更新操作**：返回200状态码和更新后的记录
- **删除操作**：返回204状态码（无内容）
- **错误情况**：返回相应的错误状态码和错误信息

## 故障排除

1. **连接失败**：检查应用是否启动，端口是否正确
2. **404错误**：检查URL路径是否正确
3. **400错误**：检查请求参数格式是否正确
4. **500错误**：检查服务器日志，可能是数据库或业务逻辑错误

## 接口统计
- **总接口数**：65个
- **支出管理**：15个
- **收入管理**：15个
- **生活记录管理**：17个
- **健康记录管理**：20个
- **仪表板**：5个

所有接口都经过精心设计，覆盖了完整的CRUD操作和各种查询统计功能，可以全面测试个人助手系统的各项功能。 